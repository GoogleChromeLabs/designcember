---
import Pic from '../Pic/Pic.astro';
import Number from '../Calendar/Number.astro';
import Days from './day.store.js';

const day_state = Days.day9;
---

<style>
  .nine {
    --window-height: 200px;
    max-height: var(--window-height);
    min-height: var(--window-height);
    max-width: 600px;
    min-width: 175px;

    /*delete me*/
    z-index: 100;
  }

  .cq-interactive {
    padding-bottom: 105px;
    padding-left: 95px;

/*    @container (min-width: 280px) {
      padding-bottom: 200px;
    }

    @container (min-width: 375px) {
      padding-bottom: 275px;
    }*/
  }

  .plaque {
    z-index: var(--layer-2);
    place-self: flex-end center;
    margin-block-end: -15px;
  }

  .pane {
    border-top-left-radius: 100% 200%;
    border-top-right-radius: 100% 200%;
    height: var(--window-height);
    overflow: hidden;
  }

  .shadow {
    background: var(--_day-bg);
    background: #f9e0ae;
    place-self: flex-start center;
    width: 600px;
  }

  .tea {
    container: inline-size;
    margin-bottom: 10px;
    place-self: flex-end center;
    width: 60%;

    /*@container (max-width: 300px) {
      place-self: flex-start flex-end;
      width: 85%;
    }*/
  }

  .character {
    /*@container (max-height: 200px) {
      width: 95%;
    }*/
  }

  .steam {
    aspect-ratio: 23/26;
    background: url("/day9/steam_sprite.png") 0% 0%;
    background: url("/day9/steam_sprite.webp") 0% 0%;
    background-size: 600% auto;
    margin-right: 6%;
    margin-top: 35%;
    place-self: center flex-end;
    width: 20%;

    @nest .day & {
    /*@nest .day:is(:hover, :focus-within) & {*/
      animation: steamy 2.5s steps(1) infinite;

      & .static {
        display: none;
      }
    }
  }

  @keyframes steamy {
    0%  { background-position-x: 0%; }
    12% { background-position-x: 100%; }
    27% { background-position-x: 200%; }
    39% { background-position-x: 300%; }
    51% { background-position-x: 400%; }
    63% { background-position-x: 500%; }
    75% { background-position-x: 600%; }
    88% { background-position-x: 700%; }
  }


  .sill {
    container: inline-size;
    margin-bottom: 5px;
    place-self: center center;
    z-index: 1;
  }

  .coffee {
    display: none;

    @container (max-width: 450px) {
      margin-bottom: 0;
      margin-right: 10%;
      place-self: flex-end flex-end;
      width: 20%;
    }

    @container (max-width: 300px) {
      margin-right: 85%;
    }
  }

  .monstera_front {
    display: none;

    @container (min-width: 450px) {
      margin-left: -10%;
    }

    @container (min-width: 300px) {
      display: block;
      margin-bottom: 8%;
      margin-left: -5%;
      place-self: flex-end flex-start;
      width: 75%;
    }
  }

  .monstera_pot {
    display: none;

    @container (min-width: 450px) {
      margin-left: 0%;
    }

    @container (min-width: 300px) {
      display: block;
      margin-left: 7%;
      place-self: flex-end flex-start;
      width: 15%;
    }
  }

  .book {
    margin-bottom: 10px;
    margin-left: 10%;
    place-self: flex-end flex-start;
    width: 60%;

    @container (max-width: 210px) {
      margin-bottom: 0;
    }

    @container (min-width: 450px) {
      margin-left: 15%;
    }

    @container (min-width: 300px) {
      margin-left: 30%;
      place-self: flex-end flex-start;
      width: 30%;
    }
  }

  .frame {
    margin-top: 197px;
    place-self: flex-start center;
    width: 103%;
  }

  .pothos {
    margin-bottom: -70px;
    margin-left: -10%;
    place-self: flex-end flex-start;
    width: 70px;

    @container (min-width: 450px) {
      justify-self: flex-end;
    }
  }
</style>

<div 
  id="9th" 
  class="day nine stacked cq-interactive"
  title="A student gets ready for her design lesson with a freshly brewed cup of tea... and lots of caffeine!"
  data-day-state={day_state} 
  data-detail-position="bottom" 
  data-detail-title="Learn Design: New Content" 
  data-detail-description="Cookie gummies chupa chups lemon drops shortbread jelly sweet roll candy canes." 
  data-detail-url="https://web.dev/learn/design/"
>
  <!-- <span class="plaque">
    <Number num="9" link="#9th" active={day_state} />
  </span> -->

  <div class="pane">
    <div class="shadow">
      <Pic filename="day9/bg_shadow" role="presentation" />
    </div>
  </div>
  <div class="tea stacked">
    <div class="character">
      <Pic filename="day9/character" role="presentation" />
    </div>
    <div class="steam">
      <div class="static">
        <Pic filename="day9/steam" role="presentation" />
      </div>
    </div>
  </div>
  <div class="sill stacked">
    <div class="coffee">
      <Pic filename="day9/coffee" role="presentation" />
    </div>
    <div class="monstera_front">
      <Pic filename="day9/monstera_front" role="presentation" />
    </div>
    <div class="monstera_pot">
      <Pic filename="day9/monstera_pot" role="presentation" />
    </div>
    <div class="book">
      <Pic filename="day9/book" role="presentation" />
    </div>
    <div class="frame">
      <Pic filename="day9/frame" role="presentation" />
    </div>
    <div class="pothos">
      <Pic filename="day9/pothos" role="presentation" />
    </div>
  </div>
</div>